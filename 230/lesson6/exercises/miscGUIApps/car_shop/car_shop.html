<!DOCTYPE html>
<html lang="en">
  <head>
    <title>A Car Shop With Filtering</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="car_shop.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.3/handlebars.min.js"></script>
    <script src="carShop.js"></script>
  </head>
  <body>
    <main>
      <header>
        <h1>Buy Used Cars</h1>
      </header>
      <section class="car_gallery"></section>
    </main>
    <script id='car_gallery_template' type="text/x-handlebars">
      <ul>
        {{#each cars}}
        {{> car_info}}
        {{/each}}
      </ul>
    </script>
    <script id='car_info' type="text/x-handlebars">
      <li>
        <figure>
          <img src="{{image}}">
          <figcaption>
            <h2>{{make}} {{model}}</h2>
            <p>Year&colon; {{year}}</p>
            <p>Price&colon; &dollar;{{price}}</p>
            <a href="#" class="buy">Buy</a>
          </figcaption>
        </figure>
      </li>
    </script>
    <script id="filter_form" type="text/x-handlebars">
      <form>
        <fieldset class="form_selects">
          <dl>
            <dt>Make</dt>
            <dd>
              <select name="make" id="make-select">
                {{#each make}}
                {{> option_list}}
                {{/each}}
              </select>
            </dd>
          </dl>
          <dl>
            <dt>Model</dt>
            <dd>
              <select name="model" id="model-select">
                {{#each model}}
                {{> option_list}}
                {{/each}}
              </select>
            </dd>
          </dl>
          <dl>
            <dt>Price</dt>
            <dd>
              <select name="price" id="price-select">
                {{#each price}}
                {{> option_list}}
                {{/each}}
              </select>
            </dd>
          </dl>
          <dl>
            <dt>Year</dt>
            <dd>
              <select name="year" id="year-select">
                {{#each year}}
                {{> option_list}}
                {{/each}}
              </select>            
            </dd>
          </dl>
        </fieldset>
        <button type="submit">Filter</button>
      </form>
    </script>
    <script id="option_list" type="text/x-handlebars">
      {{#if (isDefault this)}}
        <option val="{{this}}" selected >{{this}}</option>
      {{else}}
        <option val="{{this}}">{{this}}</option>
      {{/if}}
    </script>
  </body>
</html>
